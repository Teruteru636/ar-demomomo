<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>背景色変更＆AR表示</title>
<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
<style>
  body {
    margin: 20px;
    font-family: sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  #viewer-container {
    width: 400px;
    height: 400px;
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
    overflow: hidden;
  }
  model-viewer {
    width: 100%;
    height: 100%;
    /* 背景色は親に任せる */
    background-color: transparent !important;
  }
  label {
    display: block;
    margin: 8px 0;
  }
</style>
</head>
<body>

<div id="viewer-container">
  <model-viewer
    id="viewer"
    src="model.glb"           <!-- glb推奨 -->
    ios-src="model.usdz"      <!-- usdzファイル -->
    alt="3Dモデル"
    camera-controls
    auto-rotate
    ar
    ar-modes="scene-viewer webxr quick-look"
  ></model-viewer>
</div>

<div>
  <label>赤 (R): <input type="range" id="r" min="0" max="255" value="255"></label>
  <label>緑 (G): <input type="range" id="g" min="0" max="255" value="255"></label>
  <label>青 (B): <input type="range" id="b" min="0" max="255" value="255"></label>
</div>

<script>
  const r = document.getElementById('r');
  const g = document.getElementById('g');
  const b = document.getElementById('b');
  const container = document.getElementById('viewer-container');

  function updateBackgroundColor() {
    const color = `rgb(${r.value}, ${g.value}, ${b.value})`;
    container.style.backgroundColor = color;
  }

  updateBackgroundColor();

  r.addEventListener('input', updateBackgroundColor);
  g.addEventListener('input', updateBackgroundColor);
  b.addEventListener('input', updateBackgroundColor);
</script>

</body>
</html>