<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>3Dビューア背景色変更</title>
<script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
<style>
  body {
    margin: 20px;
    font-family: sans-serif;
    display: flex;
    flex-direction: column;
    align-items: center;
  }
  model-viewer {
    width: 400px;
    height: 400px;
    background-color: rgb(255, 255, 255);
    border-radius: 8px;
    box-shadow: 0 0 10px rgba(0,0,0,0.3);
    margin-bottom: 20px;
  }
  label {
    display: block;
    margin: 8px 0;
  }
</style>
</head>
<body>

<model-viewer id="viewer" src="model.usdz" ios-src="model.usdz" alt="3Dモデル" camera-controls auto-rotate></model-viewer>

<div>
  <label>赤 (R): <input type="range" id="r" min="0" max="255" value="255"></label>
  <label>緑 (G): <input type="range" id="g" min="0" max="255" value="255"></label>
  <label>青 (B): <input type="range" id="b" min="0" max="255" value="255"></label>
</div>

<script>
  const viewer = document.getElementById('viewer');
  const r = document.getElementById('r');
  const g = document.getElementById('g');
  const b = document.getElementById('b');

  function updateBackgroundColor() {
    const color = `rgb(${r.value}, ${g.value}, ${b.value})`;
    viewer.style.backgroundColor = color;
  }

  // 初期表示時に背景色設定
  updateBackgroundColor();

  // スライダーの値が変わったら背景色を更新
  r.addEventListener('input', updateBackgroundColor);
  g.addEventListener('input', updateBackgroundColor);
  b.addEventListener('input', updateBackgroundColor);
</script>

</body>
</html>